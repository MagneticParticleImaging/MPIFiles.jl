<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Measurements · MPI Files</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="MPI Files logo"/></a><div class="docs-package-name"><span class="docs-autofit">MPI Files</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="gettingStarted.html">Getting Started</a></li><li><a class="tocitem" href="lowlevel.html">Low Level Interface</a></li><li><a class="tocitem" href="conversion.html">Conversion</a></li><li class="is-active"><a class="tocitem" href="measurements.html">Measurements</a></li><li><a class="tocitem" href="systemmatrix.html">System Matrices</a></li><li><a class="tocitem" href="frequencyFilter.html">Frequency Filter</a></li><li><a class="tocitem" href="reconstruction.html">Reconstruction Results</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="measurements.html">Measurements</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="measurements.html">Measurements</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/MagneticParticleImaging/MPIFiles.jl/blob/master/docs/src/measurements.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Measurements"><a class="docs-heading-anchor" href="#Measurements">Measurements</a><a id="Measurements-1"></a><a class="docs-heading-anchor-permalink" href="#Measurements" title="Permalink"></a></h1><p>The low level interface allows to load measured MPI data via the <code>measData</code> function. The returned data is exactly how it is stored on disc. This has the disadvantage that the user needs to handle different sorts of data that can be stored in the <code>measData</code> field. To cope with this issue, the MDF also has a high level interface for loading measurement data. The first is the function</p><pre><code class="language-julia">function getMeasurements(f::MPIFile, neglectBGFrames=true;
                frames=neglectBGFrames ? (1:acqNumFGFrames(f)) : (1:acqNumFrames(f)),
                numAverages=1,
                bgCorrection=false,
                interpolateBG=false,
                tfCorrection=measIsTFCorrected(f),
                sortFrames=false,
                spectralLeakageCorrection=true,
                kargs...)</code></pre><p>that loads the MPI data in time domain. Background frames can be neglected or included, frames can be selected by specifying <code>frames</code>, block averaging can be applied by specifying <code>numAverages</code>, <code>bgCorrection</code> allows to apply background correction, <code>tfCorrection</code> allows for a correction of the transfer function, <code>interpolateBG</code> applies an optional interpolation in case that multiple background intervals are included in the measurement, <code>sortFrames</code> puts all background frames to the end of the returned data file, and <code>spectralLeakageCorrection</code> controls whether a spectral leakage correction is applied.</p><p>The array returned by <code>getMeasurements</code> is of type <code>Float32</code> and has four dimensions</p><ol><li>time dimension (over one period)</li><li>receive channel dimension</li><li>patch dimension</li><li>frame dimension</li></ol><p>Instead of loading the data in time domain, one can also load the frequency domain data by calling</p><pre><code class="language-julia">function getMeasurementsFD(f::MPIFile, neglectBGFrames=true;
                  loadasreal=false,
                  transposed=false,
                  frequencies=nothing,
                  tfCorrection=measIsTFCorrected(f),
                  kargs...)</code></pre><p>The function has basically the same parameters as <code>getMeasurements</code> but, additionally, it is possible to load the data in real form (useful when using a solver that cannot handle complex numbers), it is possible to specify the frequencies (specified by the indices) that should be loaded, and it is possible to transpose the data in a special way, where the frame dimension is changed to be the first dimension. <code>getMeasurementsFD</code> returns a 4D array where of type <code>ComplexF32</code> with dimensions</p><ol><li>frequency dimension</li><li>receive channel dimension</li><li>patch dimension</li><li>frame dimension</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="conversion.html">« Conversion</a><a class="docs-footer-nextpage" href="systemmatrix.html">System Matrices »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 24 April 2021 12:43">Saturday 24 April 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
